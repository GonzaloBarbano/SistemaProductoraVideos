@startuml
left to right direction

actor "Coordinador/Productor" as Prod
actor "Responsable de la Etapa" as Resp

rectangle "Asignación y Control de Avance" {
    usecase "Asignar Responsable a Etapa" as UC3
    usecase "Cambiar Estado de Etapa" as UC4
    usecase "Registrar Auditoría (Historial)" as RegAudit
    usecase "Enviar Notificaciones Automáticas" as UC5
}

Prod -- UC3
Prod -- UC4
Resp -- UC4

' Ambos flujos requieren el registro de auditoría (quién/cuándo)
UC3 ..> RegAudit : <<include>> (Flujo principal: registra auditoría)
UC4 ..> RegAudit : <<include>> (Flujo principal: registra el cambio en historial)

' Ambos flujos requieren notificación inmediata
UC3 ..> UC5 : <<include>>
UC4 ..> UC5 : <<include>>
@endumll
