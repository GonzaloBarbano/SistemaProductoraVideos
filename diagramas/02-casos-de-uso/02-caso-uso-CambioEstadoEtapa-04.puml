@startuml
left to right direction

actor "Responsable de la Etapa" as Resp
actor "Coordinador/Productor" as Prod

rectangle "Cambiar Estado de Etapa" {
    usecase "Cambiar Estado de Etapa" as UC4
    usecase "Validar Reglas de Negocio (Ej. No Finalizar si Incompleto)" as ValidaReglas
    usecase "Alertar Posible Retraso (vs. Fecha Estimada)" as AlertaRetraso
    usecase "Enviar Notificaciones Autom치ticas" as UC5
}

Resp -- UC4
Prod -- UC4

' Validar reglas es una parte obligatoria del flujo para evitar errores
UC4 ..> ValidaReglas : <<include>>

' Alertar Retraso es una funcionalidad que extiende la acci칩n, basada en la necesidad de que "el sistema pueda alertar si se va a retrasar" [2]
UC4 <.. AlertaRetraso : <<extend>> (Condici칩n: Cambio de fecha/estado indica retraso)

' La notificaci칩n es obligatoria tras el cambio de estado
UC4 ..> UC5 : <<include>>
@endumll